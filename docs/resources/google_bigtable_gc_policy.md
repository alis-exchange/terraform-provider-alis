---
page_title: "alis_google_bigtable_gc_policy Resource - alis"
subcategory: ""
description: |-
  
---

# alis_google_bigtable_gc_policy (Resource)



## Example Usage

```terraform
terraform {
  required_providers {
    alis = {
      source  = "alis-exchange/alis"
      version = "0.0.1-alpha8"
    }
  }
}

provider "alis" {
}

resource "alis_google_bigtable_gc_policy" "simple" {
  project       = var.ALIS_OS_PROJECT
  instance      = var.ALIS_OS_BIGTABLE_INSTANCE
  table         = "tf-test"
  column_family = "0"
  gc_rules = jsonencode({
    "rules" : [
      {
        "max_version" : 10
      }
    ]
  })
}

resource "alis_google_bigtable_gc_policy" "complex_union" {
  project       = var.ALIS_OS_PROJECT
  instance      = var.ALIS_OS_BIGTABLE_INSTANCE
  table         = "tf-test"
  column_family = "1"
  gc_rules = jsonencode({
    mode = "union",
    rules = [
      {
        max_age = "168h"
      },
      {
        max_version = 10
      }
    ]
  })
}

resource "alis_google_bigtable_gc_policy" "complex_intersection" {
  project       = var.ALIS_OS_PROJECT
  instance      = var.ALIS_OS_BIGTABLE_INSTANCE
  table         = "tf-test"
  column_family = "2"
  gc_rules = jsonencode({
    mode = "intersection",
    rules = [
      {
        max_age = "168h"
      },
      {
        max_version = 10
      }
    ]
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `column_family` (String) The name of the column family.
- `gc_rules` (String) Serialized JSON string for garbage collection policy.
Allowed fields:
	- `mode` which can only be `union` or `intersection`.
If not specified then `rules` can only have one JSON object, otherwise must have multiple JSON objects.
	- `rules` which is an array of JSON objects. Each object can only have `max_age` or `max_version`.
Alternatively, you can have nested JSON objects with the same structure as the parent JSON object(`gc_rules`).
- `instance` (String) The Bigtable instance ID.
- `project` (String) The Google Cloud project ID.
- `table` (String) The Bigtable table ID.

### Optional

- `deletion_policy` (String) The deletion policy for the GC policy.
Setting `ABANDON` allows the resource to be abandoned rather than deleted.
This is useful for GC policy as it cannot be deleted in a replicated instance.
**Note that when set to `ABANDON`, this only removes the `deletion_policy` from terraform state.
Garbage collection still happens on the specified column family.**
Possible values are: `ABANDON`.