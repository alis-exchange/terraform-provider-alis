---
page_title: "alis_google_spanner_table Resource - alis"
subcategory: ""
description: |-
  A Google Cloud Spanner table resource.
  This resource manages the schema of a table in a Google Cloud Spanner database.
---

# alis_google_spanner_table (Resource)

A Google Cloud Spanner table resource.
This resource manages the schema of a table in a Google Cloud Spanner database.

## Example Usage

```terraform
terraform {
  required_providers {
    alis = {
      source  = "alis-exchange/alis"
      version = "1.1.0"
    }
  }
}

provider "alis" {

}

resource "alis_google_spanner_table" "test" {
  project  = var.ALIS_OS_PROJECT
  instance = var.ALIS_OS_SPANNER_INSTANCE
  database = "tf-test"
  name     = "tftest"
  schema = {
    columns = [
      {
        name           = "id",
        type           = "INT64",
        is_primary_key = true,
        unique         = true,
        required       = true,
      },
      {
        name = "display_name",
        type = "STRING",
        size = 255,
      },
      {
        name = "is_active",
        type = "BOOL",
      },
      {
        name          = "latest_return",
        type          = "FLOAT64",
        default_value = 0.0,
      },
      {
        name          = "earliest_return",
        type          = "FLOAT64",
        default_value = 0.0,
      },
      {
        name = "inception_date",
        type = "DATE",
      },
      {
        name = "last_refreshed_at",
        type = "TIMESTAMP",
      },
      {
        name = "metadata",
        type = "JSON",
      },
      {
        name = "data",
        type = "BYTES",
      },
      {
        name            = "proto_test",
        type            = "PROTO",
        proto_package   = "com.example.Message",
        file_descriptor = "gcs:gs://path/to/my/descriptorset.pb",
      },
      {
        name = "arr_str",
        type = "ARRAY<STRING>",
      },
      {
        name = "arr_int64",
        type = "ARRAY<INT64>",
      },
      {
        name = "arr_float32",
        type = "ARRAY<FLOAT32>",
      },
      {
        name = "arr_float64",
        type = "ARRAY<FLOAT64>",
      }
    ]
  }
}

output "test_table" {
  value = alis_google_spanner_table.test
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `database` (String) The name of the parent database.
- `instance` (String) The name of the Spanner instance.
- `name` (String) The name of the table.
The name must satisfy the expression `^[a-zA-Z][a-zA-Z0-9_]{0,127}$`
- `project` (String) The Google Cloud project ID in which the table belongs.
- `schema` (Attributes) The schema of the table. (see [below for nested schema](#nestedatt--schema))

<a id="nestedatt--schema"></a>
### Nested Schema for `schema`

Required:

- `columns` (Attributes List) The columns of the table. (see [below for nested schema](#nestedatt--schema--columns))

<a id="nestedatt--schema--columns"></a>
### Nested Schema for `schema.columns`

Required:

- `name` (String) The name of the column.
The name must contain only letters (a-z, A-Z), numbers (0-9), or underscores (_), and must start with a letter and not end in an underscore.
The maximum length is 128 characters.
- `type` (String) The data type of the column.
Valid types are: `BOOL`, `INT64`, `FLOAT64`, `STRING`, `BYTES`, `DATE`, `TIMESTAMP`, `JSON`, `PROTO`, `ARRAY<STRING>`, `ARRAY<INT64>`, `ARRAY<FLOAT32>`, `ARRAY<FLOAT64>`.

Optional:

- `auto_increment` (Boolean) Indicates if the column is auto-incrementing.
The column must be of type `INT64` or `FLOAT64`.
- `default_value` (String) The default value of the column.
The default value must be compatible with the column type.
For example, a default value of "true" is valid for a `BOOL` or `STRING` column, but not for an `INT64` column.
- `file_descriptor` (String) The url/path to the file descriptor set of the column.
The file descriptor set must be a valid file descriptor set containing the specified `proto_package`.
The path must point to a valid `.pb` file.
You can generate one using the `protoc` compiler. See https://cloud.google.com/spanner/docs/reference/standard-sql/protocol-buffers#create_a_protocol_buffer.
This field is only required for columns of type `PROTO`.
One of the following prefixes must be used to indicate the location of the file descriptor set:
	- **gcs:** - Indicates the file is stored in a Google Cloud Storage Bucket.
	Example: "gcs:gs://path/to/your/file.pb".
	- **url:** - **Experimental**. Indicates the file is stored on a remote server accessible via HTTPS.
	Example: "url:https://path/to/your/file.pb".
- `is_primary_key` (Boolean) Indicates if the column is part of the primary key.
Multiple columns can be specified as primary keys to create a composite primary key.
Primary key columns must be non-null.
- `precision` (Number) The maximum number of digits in the column.
This is only applicable to columns of type `FLOAT64`.
The maximum is 17
- `proto_package` (String) The full name of the proto message to be used in the column.
The name must be a valid package name including the message name.
This field is only required for columns of type `PROTO`
Example: "com.example.Message", where `com.example` is the package name and `Message` is the message name.
- `required` (Boolean) Indicates if the column is required.
- `scale` (Number) The maximum number of digits after the decimal point in the column.
This is only applicable to columns of type `FLOAT64`.
- `size` (Number) The maximum size of the column.
- `unique` (Boolean) Indicates if the column is unique.